<div class="form-container">
  <h2 class="fas fa-plus">Ajouter un produit</h2>

  <!-- Formulaire pour ajouter un produit -->
  <form [formGroup]="produitForm" (ngSubmit)="createProduit()">

    <!-- Champ Nom -->
    <div class="form-group">
      <label for="nom"><i class="fas fa-tag"></i> Nom du produit</label>
      <input
        type="text"
        id="nom"
        formControlName="nom"
        class="form-control"
        [ngClass]="{'is-invalid': produitForm.get('nom')?.invalid && produitForm.get('nom')?.touched}" />
      <div *ngIf="produitForm.get('nom')?.invalid && produitForm.get('nom')?.touched" class="invalid-feedback">
        Nom du produit requis (3 à 100 caractères).
      </div>
    </div>

    <!-- Champ Prix -->
    <div class="form-group">
      <label for="prix"><i class="fas fa-dollar-sign"></i> Prix</label>
      <input
        type="number"
        id="prix"
        formControlName="prix"
        class="form-control"
        [ngClass]="{'is-invalid': produitForm.get('prix')?.invalid && produitForm.get('prix')?.touched}" />
      <div *ngIf="produitForm.get('prix')?.invalid && produitForm.get('prix')?.touched" class="invalid-feedback">
        Prix requis et doit être supérieur à 0.
      </div>
    </div>

    <!-- Champ Description -->
    <div class="form-group">
      <label for="description"><i class="fas fa-align-left"></i> Description</label>
      <textarea
        id="description"
        formControlName="description"
        class="form-control"
        [ngClass]="{'is-invalid': produitForm.get('description')?.invalid && produitForm.get('description')?.touched}"></textarea>
      <div *ngIf="produitForm.get('description')?.invalid && produitForm.get('description')?.touched" class="invalid-feedback">
        La description est obligatoire.
      </div>
    </div>

    <!-- Champ Quantité en Stock -->
    <div class="form-group">
      <label for="quantiteStock"><i class="fas fa-cogs"></i> Quantité en stock</label>
      <input
        type="number"
        id="quantiteStock"
        formControlName="quantiteStock"
        class="form-control"
        [ngClass]="{'is-invalid': produitForm.get('quantiteStock')?.invalid && produitForm.get('quantiteStock')?.touched}" />
      <div *ngIf="produitForm.get('quantiteStock')?.invalid && produitForm.get('quantiteStock')?.touched" class="invalid-feedback">
        Quantité en stock requise et ne peut pas être négative.
      </div>
    </div>

    <!-- Champ Catégorie -->
    <div class="form-group">
      <label for="categorie"><i class="fas fa-tags"></i> Catégorie</label>
      <input
        type="text"
        id="categorie"
        formControlName="categorie"
        class="form-control"
        [ngClass]="{'is-invalid': produitForm.get('categorie')?.invalid && produitForm.get('categorie')?.touched}" />
      <div *ngIf="produitForm.get('categorie')?.invalid && produitForm.get('categorie')?.touched" class="invalid-feedback">
        La catégorie est obligatoire.
      </div>
    </div>

    <!-- Champ URL de l'image -->
    <div class="form-group">
      <label for="imageUrl"><i class="fas fa-image"></i> URL de l'image</label>
      <input
        type="text"
        id="imageUrl"
        formControlName="imageUrl"
        class="form-control"
        [ngClass]="{'is-invalid': produitForm.get('imageUrl')?.invalid && produitForm.get('imageUrl')?.touched}" />
      <div *ngIf="produitForm.get('imageUrl')?.invalid && produitForm.get('imageUrl')?.touched" class="invalid-feedback">
        URL de l'image requise (doit être une URL valide).
      </div>
    </div>

    <!-- Champ Date d'expiration -->
    <div class="form-group">
      <label for="dateExpiration"><i class="fas fa-calendar"></i> Date d'expiration</label>
      <input
        type="date"
        id="dateExpiration"
        formControlName="dateExpiration"
        class="form-control"
        [ngClass]="{'is-invalid': produitForm.get('dateExpiration')?.invalid && produitForm.get('dateExpiration')?.touched}" />
      <div *ngIf="produitForm.get('dateExpiration')?.invalid && produitForm.get('dateExpiration')?.touched" class="invalid-feedback">
        La date d'expiration est obligatoire.
      </div>
    </div>

    <!-- Boutons -->
    <div class="button-container">
      <button type="submit" class="btn btn-primary" [disabled]="produitForm.invalid">Créer le produit</button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">Annuler</button>
    </div>
  </form>
</div>
